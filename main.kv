<MenuWindow>

    GridLayout:
        cols:1
        Label:
            text: "Kambodian Fight Club"

        Button:
            text: "Play"
            on_release:
                app.root.current = "p1_guess_num"

        Button:
            text: "How to Play"
            on_release:
                app.root.current = "tutorial"
                root.manager.transition.direction = "left"

<TutorialWindow>

    GridLayout:
        cols:1
        Label:
            text: "To Play, Player 1 or Player 2 choses a number and one player guesses the total sum of both the number. Whoever has the guess right wins the game."
            text_size: self.width, None
            font_size: 20
        Button:
            text: "Back"
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"

<P1GuessNumber>

    GridLayout:
        cols:1
        Label:
            text: "P1, select your number"

        GridLayout:
            cols:3
            Button:
                text: "0"
                on_release:
                    app.root.store_p1_num(0)
                    app.root.current = "p1_guess_sum"
                    root.manager.transition.direction = "left"
            Button:
                text: "5"
                on_release:
                    app.root.store_p1_num(5)
                    app.root.current = "p1_guess_sum"
                    root.manager.transition.direction = "left"

        Button:
            text: "Go back to menu"
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"
    
<P1GuessSum>

    GridLayout:
        cols:1
        
        Label:
            text: "P1, guess the sum"
        Button:
            text: "0"
            on_release:
                app.root.store_p1_sum(0)
                app.root.current = "give_to_p2"
                root.manager.transition.direction = "left"

        Button:
            text: "5"
            on_release:
                app.root.store_p1_sum(5)
                app.root.current = "give_to_p2"
                root.manager.transition.direction ="left"

        Button:
            text: "10"
            on_release:
                app.root.store_p1_sum(10)
                app.root.current = "give_to_p2"
                root.manager.transition.direction ="left"

        Button:
            text: "Go back to menu"
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"

<GiveToP2>

    GridLayout:
        cols:1

        Label: 
            text: "Look Away, Give to P2"

        Button: 
            text: "Next"  
            on_release:
                app.root.current = "p2_select_number"
                root.manager.transition.direction = "left"  

<Player2Selector>

    GridLayout:
        cols:1

        Label:
            text: "P2, Select Number"
        
        Button:
            text: "0"
            on_release:
                app.root.store_p2_num(0)
		        app.root.current = "chosen_number"
        Button:
            text: "5"
            on_release:
                app.root.store_p2_num(5)
		        app.root.current = "chosen_number"

<Player1Win>

    GridLayout:
        cols:1

        Label:
            text: "Player 1 Wins"

        Button:
            text: "Next"

        Button:
            text: "Play again"
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"

<Player2Win>

    GridLayout:
        cols:1

        Label:
            text: "Player 2 Wins"

        Button:
            text: "Play again"
            on_release:
                app.root.current = "menu"
                root.manager.transition.direction = "right"

<P2GuessSum>
    name: "p2_guess_sum"

    GridLayout:
        cols:1
    
        Label:
            text: "P2 Guess the Sum"
    
        Button:
            text: "0"
            on_release:
                app.root.store_p2_sum(0)
                app.root.current = "give_to_p1"
                root.manager.transition.direction = "left"
        Button:
            text: "5"
            on_release:
                app.root.store_p2_sum(5)
                app.root.current = "give_to_p1"
                root.manager.transition.direction ="left"

        Button:
            text: "10"
            on_release:
                app.root.store_p2_sum(10)
                app.root.current = "give_to_p1"
                root.manager.transition.direction ="left"

<GiveToP1>

    GridLayout:
        cols:1

        Label: 
            text: "Look Away, Give to P1"

        Button: 
            text: "Next"  
            on_release:
                app.root.current = "p1_guess_num"
                root.manager.transition.direction = "left"

<ChosenNumber>
    chosen_number_label:chosen_number_label
    sum: sum

    GridLayout:
        cols:1

        Label:
            id: chosen_number_label
            text: "Numbers chosen: "
        
        Label:
            id: sum
            text:""

        Button:
            text: "Show who won"
            on_release:
                app.root.test_game_logic()
